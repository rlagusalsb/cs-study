# 동기화 (Synchronization)

## 핵심 요약
- **동기화(Synchronization)**: 여러 프로세스/스레드가 **공유 자원**에 동시에 접근할 때 데이터의 **일관성(Consistency)**과 **정확성(Correctness)**을 보장하는 기법  
- 문제 상황: **Race Condition(경쟁 상태)** 발생 가능 → 결과가 실행 순서에 따라 달라짐  
- 대표적인 도구: **뮤텍스(Mutex)**, **세마포어(Semaphore)**, **모니터(Monitor)**  

---

## 상세 설명
### 동기화가 필요한 이유
- 멀티스레드 환경에서 자원을 동시에 접근하면 데이터 불일치 문제 발생
- 예: 은행 계좌 잔액 갱신 시 두 스레드가 동시에 접근하면 최종 결과가 잘못될 수 있음
- 해결: 임계 구역(Critical Section)을 정의하고 한 번에 하나의 스레드만 접근하도록 보장

---

### 동기화 도구

#### 1. 뮤텍스 (Mutex, Mutual Exclusion)
- **하나의 스레드만 자원 접근 가능**하도록 잠금(Lock)을 거는 방식
- Lock 획득한 스레드만 임계 구역 실행 가능
- 다른 스레드는 대기 (Blocked) 상태
- 특징:
  - **이진 상태 (Locked / Unlocked)**
  - 소유 개념 존재 → Lock을 획득한 스레드만 해제 가능

#### 2. 세마포어 (Semaphore)
- 자원 접근 허용 개수를 제어하는 동기화 도구
- **정수 값으로 카운트** 관리
  - wait(P): 자원 요청 (카운트 1 감소)
  - signal(V): 자원 해제 (카운트 1 증가)
- 종류:
  - **이진 세마포어(Binary Semaphore)** → 뮤텍스와 유사
  - **카운팅 세마포어(Counting Semaphore)** → 자원이 여러 개인 경우 제어 가능

#### 3. 모니터 (Monitor)
- 언어 차원에서 제공하는 동기화 도구 (Java synchronized, C# lock)
- 임계 구역을 자동으로 관리
- 내부적으로 Condition Variable을 사용하여 대기/깨우기 지원

---

### 동기화 문제
1. **데드락 (Deadlock)**  
   - 두 개 이상의 스레드가 서로 자원을 기다리며 무한 대기 상태  
   - 발생 조건 4가지: 상호 배제, 점유와 대기, 비선점, 순환 대기
2. **기아(Starvation)**  
   - 특정 스레드가 우선순위가 낮아 자원 획득 기회를 계속 박탈당하는 현상
3. **Busy Waiting(바쁜 대기)**  
   - Lock을 얻기 위해 CPU를 낭비하면서 루프를 도는 상태 → Spinlock
