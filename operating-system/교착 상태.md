# 교착상태 (Deadlock)

## 핵심 요약
- **교착상태(Deadlock)**: 둘 이상의 프로세스/스레드가 **서로가 점유한 자원을 기다리며 무한 대기 상태**에 빠지는 현상  
- 해결되지 않으면 시스템 일부 혹은 전체가 멈춤  
- 발생 조건: **상호 배제, 점유와 대기, 비선점, 순환 대기** (필수 조건 4가지)  

---

## 상세 설명
### 교착상태의 발생 조건
1. **상호 배제(Mutual Exclusion)**  
   - 한 번에 하나의 프로세스만 자원을 사용할 수 있음  
2. **점유와 대기(Hold and Wait)**  
   - 최소 하나의 자원을 보유한 상태에서 추가 자원을 요청하며 대기  
3. **비선점(No Preemption)**  
   - 할당된 자원은 강제로 빼앗을 수 없음 → 요청한 프로세스가 스스로 해제해야 함  
4. **순환 대기(Circular Wait)**  
   - 프로세스들이 자원을 순환 형태로 기다림 (P1 → P2 → P3 → P1)

---

### 교착상태 해결 방법
#### 1. 예방 (Prevention)
- **4가지 조건 중 하나 이상을 깨뜨려서 교착상태 자체를 원천 봉쇄**  
- 예:
  - 상호 배제 제거 → 자원 공유 가능 (현실적으로 어려움)
  - 점유와 대기 제거 → 자원 요청 시 모든 자원을 한 번에 요청
  - 비선점 제거 → 자원을 강제로 회수 가능
  - 순환 대기 제거 → 자원에 우선순위를 매기고 정해진 순서대로만 요청

#### 2. 회피 (Avoidance)
- 교착상태 가능성을 고려해 **안전 상태(Safe State)**를 유지  
- 대표 알고리즘: **Banker’s Algorithm (은행원 알고리즘)**

#### 3. 탐지 및 회복 (Detection & Recovery)
- 교착상태 발생을 허용하고, 주기적으로 검사 후 해결  
- 해결 방법:
  - 교착상태 프로세스 강제 종료
  - 일부 자원 회수 후 재할당

---
